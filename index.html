<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeliveryPro - Calcule seus Ganhos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono:wght@700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            transition: background 0.8s cubic-bezier(0.4, 0, 0.2, 1); 
            overflow-x: hidden;
        }
        .font-mono { font-family: 'JetBrains+Mono', monospace; }
        
        .card-main {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .input-field {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            color: white;
        }

        .input-field:focus {
            border-color: currentColor;
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .pulse-green { animation: pulse-green 2s infinite; }
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(52, 211, 153, 0.2); }
            70% { box-shadow: 0 0 20px 10px rgba(52, 211, 153, 0); }
            100% { box-shadow: 0 0 0 0 rgba(52, 211, 153, 0); }
        }
    </style>
</head>
<body id="bg" class="bg-zinc-950 text-white min-h-screen flex flex-col items-center justify-center p-6">

    <header class="text-center mb-8">
        <h1 class="text-4xl font-black tracking-tighter text-white">
            Delivery<span class="text-emerald-500" id="brandColor">Pro</span>
        </h1>
        <p class="text-[11px] uppercase tracking-[0.2em] text-white font-bold mt-2 opacity-90">
            Calcule e saiba quanto está ganhando por entrega
        </p>
    </header>

    <div class="w-full max-w-sm space-y-4">
        
        <div id="mainCard" class="card-main rounded-[3rem] p-10 text-center relative overflow-hidden shadow-2xl">
            <div id="glow" class="absolute -top-20 -left-20 w-40 h-40 rounded-full blur-[80px] opacity-30 transition-all duration-1000"></div>
            
            <p class="relative z-10 text-white text-[10px] font-black tracking-[0.4em] uppercase mb-2">Projeção p/ Hora</p>

            <div class="relative z-10 flex flex-col items-center">
                <span id="lucroHora" class="text-6xl font-black font-mono tracking-tighter transition-all duration-500 text-white">R$ 0,00</span>
                
                <div id="statusPill" class="mt-6 px-6 py-2 rounded-full text-[12px] font-black uppercase tracking-widest flex items-center transition-all border border-white/20">
                    <span id="statusTxt" class="text-white">Analisando...</span>
                </div>
            </div>
        </div>

        <div class="space-y-3">
            <div class="card-main rounded-[2.5rem] p-6">
                <label class="text-[10px] uppercase font-black text-white mb-2 block tracking-widest">Valor do Recebimento</label>
                <div class="relative">
                    <span class="absolute left-4 top-1/2 -translate-y-1/2 text-white/50 font-bold">R$</span>
                    <input type="number" id="valor" value="7.00" oninput="analisar()" class="input-field w-full p-4 pl-12 rounded-2xl text-2xl font-bold outline-none">
                </div>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <div class="card-main rounded-[2.5rem] p-6">
                    <label class="text-[10px] uppercase font-black text-white mb-2 block tracking-widest text-center">Tempo (min)</label>
                    <input type="number" id="tempo" value="20" oninput="analisar()" class="input-field w-full p-4 rounded-2xl text-xl font-bold outline-none text-center">
                </div>
                <div class="card-main rounded-[2.5rem] p-6">
                    <label class="text-[10px] uppercase font-black text-white mb-2 block tracking-widest text-center">Distância (km)</label>
                    <input type="number" id="km" value="1.0" step="0.1" oninput="analisar()" class="input-field w-full p-4 rounded-2xl text-xl font-bold outline-none text-center">
                </div>
            </div>
        </div>

        <div class="flex justify-around px-4 text-[11px] font-black uppercase tracking-[0.2em] text-white">
            <div id="infoMin">--- / MIN</div>
            <div class="w-px h-3 bg-white/30"></div>
            <div id="infoKM">--- / KM</div>
        </div>
    </div>

    <script>
        function analisar() {
            const v = parseFloat(document.getElementById('valor').value) || 0;
            const t = parseFloat(document.getElementById('tempo').value) || 0;
            const k = parseFloat(document.getElementById('km').value) || 0;

            const META_HORA = 21.00; 
            const META_KM_MAX = 2.0;

            if (t === 0 || k === 0) return;

            const ganhoHora = (v / t) * 60;
            const rMin = v / t;
            const rKM = v / k;

            const bg = document.getElementById('bg');
            const card = document.getElementById('mainCard');
            const display = document.getElementById('lucroHora');
            const pill = document.getElementById('statusPill');
            const brand = document.getElementById('brandColor');
            const glow = document.getElementById('glow');

            display.innerText = "R$ " + ganhoHora.toFixed(2);
            document.getElementById('infoMin').innerText = "R$ " + rMin.toFixed(2) + " / MIN";
            document.getElementById('infoKM').innerText = "R$ " + rKM.toFixed(2) + " / KM";

            if (ganhoHora >= META_HORA && k <= META_KM_MAX) {
                bg.style.backgroundColor = "#064e3b"; // Verde escuro profundo
                display.style.color = "#34d399";
                pill.className = "mt-6 px-6 py-2 rounded-full text-[12px] font-black uppercase tracking-widest flex items-center bg-emerald-500 text-white border-none pulse-green";
                pill.innerText = "Excelente Entrega";
                brand.style.color = "#34d399";
                glow.style.backgroundColor = "#34d399";
                card.style.transform = "scale(1.03)";
            } else if (ganhoHora >= (META_HORA * 0.8)) {
                bg.style.backgroundColor = "#0c4a6e"; // Azul escuro profundo
                display.style.color = "#38bdf8";
                pill.className = "mt-6 px-6 py-2 rounded-full text-[12px] font-black uppercase tracking-widest flex items-center bg-sky-500 text-white border-none";
                pill.innerText = "Aceitável";
                brand.style.color = "#38bdf8";
                glow.style.backgroundColor = "#38bdf8";
                card.style.transform = "scale(1)";
            } else {
                bg.style.backgroundColor = "#7f1d1d"; // Vermelho escuro profundo
                display.style.color = "#f87171";
                pill.className = "mt-6 px-6 py-2 rounded-full text-[12px] font-black uppercase tracking-widest flex items-center bg-red-600 text-white border-none";
                pill.innerText = "Recusar Entrega";
                brand.style.color = "#f87171";
                glow.style.backgroundColor = "#f87171";
                card.style.transform = "scale(0.97)";
            }
        }
        analisar();
    </script>
</body>
<script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
                .then(() => console.log("DeliveryPro: Pronto para uso Offline"))
                .catch(err => console.log("Erro no SW:", err));
        }
    </script>
    <link rel="manifest" href="./manifest.json">
</html>
